{"ast":null,"code":"import axios from 'axios';\nconst {\n  VITE_BASE_URL\n} = import.meta.env;\nconst whiteList = ['/member/login', '/member/create'];\nfunction getInstance() {\n  const instance = axios.create({\n    baseURL: VITE_BASE_URL\n  });\n  const jwtFilter = config => {\n    const route = config.url.replace(new RegExp(config.baseURL, 'gi'), '');\n    let isNotWhiteList = !whiteList.includes(route);\n    if (isNotWhiteList) {\n      let jwt = {\n        type: 'Bearer',\n        accessToken: sessionStorage.getItem('token')\n      };\n      config.headers['Authorization'] = `${jwt.type} ${jwt.accessToken}`;\n    }\n    return config;\n  };\n  const errorHandler = error => {\n    console.log(error);\n    return Promise.reject(error);\n  };\n  instance.interceptors.request.use(jwtFilter, errorHandler);\n  return instance;\n}\nexport const api = getInstance();","map":{"version":3,"names":["axios","VITE_BASE_URL","import","meta","env","whiteList","getInstance","instance","create","baseURL","jwtFilter","config","route","url","replace","RegExp","isNotWhiteList","includes","jwt","type","accessToken","sessionStorage","getItem","headers","errorHandler","error","console","log","Promise","reject","interceptors","request","use","api"],"sources":["C:/Users/Administ/Desktop/elicePJT/Travel-Rate/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios'\r\nconst { VITE_BASE_URL } = import.meta.env\r\nconst whiteList = ['/member/login', '/member/create']\r\n\r\n\r\nfunction getInstance() {\r\n  const instance = axios.create({\r\n    baseURL: VITE_BASE_URL\r\n  })\r\n\r\n  const jwtFilter = (config) => {\r\n    const route = config.url.replace(new RegExp(config.baseURL, 'gi'), '')\r\n    let isNotWhiteList = !whiteList.includes(route)\r\n\r\n    if (isNotWhiteList) {\r\n      let jwt = {\r\n        type: 'Bearer',\r\n        accessToken: sessionStorage.getItem('token')\r\n      }\r\n      config.headers['Authorization'] = `${jwt.type} ${jwt.accessToken}`\r\n    }\r\n    return config\r\n  }\r\n\r\n  const errorHandler = (error) => {\r\n    console.log(error)\r\n    return Promise.reject(error)\r\n  }\r\n\r\n  instance.interceptors.request.use(jwtFilter, errorHandler)\r\n  return instance\r\n}\r\n\r\nexport const api = getInstance()"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAM;EAAEC;AAAc,CAAC,GAAGC,MAAM,CAACC,IAAI,CAACC,GAAG;AACzC,MAAMC,SAAS,GAAG,CAAC,eAAe,EAAE,gBAAgB,CAAC;AAGrD,SAASC,WAAWA,CAAA,EAAG;EACrB,MAAMC,QAAQ,GAAGP,KAAK,CAACQ,MAAM,CAAC;IAC5BC,OAAO,EAAER;EACX,CAAC,CAAC;EAEF,MAAMS,SAAS,GAAIC,MAAM,IAAK;IAC5B,MAAMC,KAAK,GAAGD,MAAM,CAACE,GAAG,CAACC,OAAO,CAAC,IAAIC,MAAM,CAACJ,MAAM,CAACF,OAAO,EAAE,IAAI,CAAC,EAAE,EAAE,CAAC;IACtE,IAAIO,cAAc,GAAG,CAACX,SAAS,CAACY,QAAQ,CAACL,KAAK,CAAC;IAE/C,IAAII,cAAc,EAAE;MAClB,IAAIE,GAAG,GAAG;QACRC,IAAI,EAAE,QAAQ;QACdC,WAAW,EAAEC,cAAc,CAACC,OAAO,CAAC,OAAO;MAC7C,CAAC;MACDX,MAAM,CAACY,OAAO,CAAC,eAAe,CAAC,GAAG,GAAGL,GAAG,CAACC,IAAI,IAAID,GAAG,CAACE,WAAW,EAAE;IACpE;IACA,OAAOT,MAAM;EACf,CAAC;EAED,MAAMa,YAAY,GAAIC,KAAK,IAAK;IAC9BC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAClB,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;EAC9B,CAAC;EAEDlB,QAAQ,CAACuB,YAAY,CAACC,OAAO,CAACC,GAAG,CAACtB,SAAS,EAAEc,YAAY,CAAC;EAC1D,OAAOjB,QAAQ;AACjB;AAEA,OAAO,MAAM0B,GAAG,GAAG3B,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}